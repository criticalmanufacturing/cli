
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Critical Manufacturing SA">
      
      
      
        <link rel="prev" href="../project-scaffold/">
      
      
        <link rel="next" href="../release-process/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Layers Packages - @criticalmanufacturing/cli Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#layers-packages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="@criticalmanufacturing/cli Documentation" class="md-header__button md-logo" aria-label="@criticalmanufacturing/cli Documentation" data-md-component="logo">
      
  <img src="../../../assets/cmf-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            @criticalmanufacturing/cli Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Layers Packages
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="grey" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/criticalmanufacturing/cli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    criticalmanufacturing/cli
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../01-install/" class="md-tabs__link">
        
  
  
    
  
  Install

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../" class="md-tabs__link">
        
  
  
    
  
  Learn

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../03-explore/" class="md-tabs__link">
        
  
  
    
  
  Explore

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="@criticalmanufacturing/cli Documentation" class="md-nav__button md-logo" aria-label="@criticalmanufacturing/cli Documentation" data-md-component="logo">
      
  <img src="../../../assets/cmf-logo.png" alt="logo">

    </a>
    @criticalmanufacturing/cli Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/criticalmanufacturing/cli" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    criticalmanufacturing/cli
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../01-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Learn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1_1" id="__nav_3_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Scaffolding
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1_1">
            <span class="md-nav__icon md-icon"></span>
            Scaffolding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/1-scaffolding/1-project-init/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Init
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/1-scaffolding/2-project-scaffold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Scaffold
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/1-scaffolding/3-post-scaffolding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Post-Scaffolding Tasks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/2-building-and-release/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build and Release
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-scaffold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Scaffold
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Layers Packages
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Layers Packages
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cmf-init" class="md-nav__link">
    <span class="md-ellipsis">
      cmf init
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mes-customization" class="md-nav__link">
    <span class="md-ellipsis">
      MES Customization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers-packages-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Layers Packages Explained
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers Packages Explained">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-business" class="md-nav__link">
    <span class="md-ellipsis">
      1. Business
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-master-data" class="md-nav__link">
    <span class="md-ellipsis">
      2. Master Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ui" class="md-nav__link">
    <span class="md-ellipsis">
      3. UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-iot" class="md-nav__link">
    <span class="md-ellipsis">
      4. IoT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-database" class="md-nav__link">
    <span class="md-ellipsis">
      5. Database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6. Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      7. Reporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      8. Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-securityportal" class="md-nav__link">
    <span class="md-ellipsis">
      9. SecurityPortal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecated-layer-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated layer packages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deprecated layer packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exported-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Exported Objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../release-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Process
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Migration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Migration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migration/migration-v3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migration To v3x
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://developer.criticalmanufacturing.com" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CM MES Development
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Explore
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Explore
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CLI Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            CLI Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/login/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    login
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/login_sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    login sync
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_business/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new business
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_feature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new feature
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_html/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new html
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot_businessScenario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot businessScenario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot_converter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot_driver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot driver
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot_task/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot task
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_iot_taskLibrary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new iot taskLibrary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/new_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    new test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/build_help/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    build help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/build_help_generateBasedOnTemplates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    build help generateBasedOnTemplates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/build_help_generateMenuItems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    build help generateMenuItems
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/pack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/assemble/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    assemble
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/bump/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bump
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/bump_iot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bump iot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/bump_iot_configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bump iot configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/bump_iot_customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bump iot customization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/ls/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ls
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/commands/restore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    restore
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration Files
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Configuration Files
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/infrastructure.json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infrastructure.json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/repositories.json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Repositories.json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cmfpackage.json
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            Cmfpackage.json
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/cmfpackage.json/contenttype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ContentType
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/cmfpackage.json/defaultcontenttoignore/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DefaultContentToIgnore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/cmfpackage.json/packaction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PackAction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/config-files/cmfpackage.json/packagetype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PackageType
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/guides/iot-scaffolding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IoT Scaffolding
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../03-explore/telemetry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telemetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cmf-init" class="md-nav__link">
    <span class="md-ellipsis">
      cmf init
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mes-customization" class="md-nav__link">
    <span class="md-ellipsis">
      MES Customization
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layers-packages-explained" class="md-nav__link">
    <span class="md-ellipsis">
      Layers Packages Explained
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layers Packages Explained">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-business" class="md-nav__link">
    <span class="md-ellipsis">
      1. Business
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-master-data" class="md-nav__link">
    <span class="md-ellipsis">
      2. Master Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-ui" class="md-nav__link">
    <span class="md-ellipsis">
      3. UI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-iot" class="md-nav__link">
    <span class="md-ellipsis">
      4. IoT
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-database" class="md-nav__link">
    <span class="md-ellipsis">
      5. Database
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6. Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-reporting" class="md-nav__link">
    <span class="md-ellipsis">
      7. Reporting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      8. Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-securityportal" class="md-nav__link">
    <span class="md-ellipsis">
      9. SecurityPortal
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deprecated-layer-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated layer packages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deprecated layer packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exported-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Exported Objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="layers-packages">Layers packages</h1>
<p>The CM MES architecture is composed of various system layers highly customizable.</p>
<p>This page provides an overview of the various layers packages available for
customizing MES projects, that can be created using the CM CLI. Each layer package serves a specific purpose and offers a structured approach for managing your customizations.</p>
<h2 id="cmf-init"><code>cmf init</code></h2>
<p>Before creating layers packages, ensure you have initialized your project using the
<code>cmf init</code> command. This command defines the project's unique name based on the
specified TENANT name specified on the environment settings file. This name will
be used throughout your layers packages for consistent identification.</p>
<h2 id="mes-customization">MES Customization</h2>
<p>Learn more about CM MES extensibility points in the Critical Manufacturing Developer Portal: <a href="https://developer.criticalmanufacturing.com">https://developer.criticalmanufacturing.com</a>.</p>
<h2 id="layers-packages-explained">Layers Packages Explained</h2>
<p>Each layer package focuses on a specific aspect of your customization.</p>
<h3 id="1-business">1. Business</h3>
<p>This package provides a <a href="https://en.wikipedia.org/wiki/.NET">.NET</a> solution
for backend development, including:</p>
<ul>
<li>Exposing new REST API services;</li>
<li>Extending orchestration and business logic used by API services or DEE actions;</li>
</ul>
<h4 id="scaffolding">Scaffolding</h4>
<p>To generate a Business package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">business</span>
</code></pre></div>
<h4 id="package-structure">Package Structure</h4>
<p>The created package is composed of three .NET projects:</p>
<ul>
<li><strong>Common</strong> - Stores constants, utilities, and other reusable classes.</li>
<li><strong>Orchestration</strong> - Houses custom business contracts, logic, and IOC configuration.</li>
<li><strong>Services</strong> - Defines custom REST API services to be consumed by the UI or
  other MES Rest API client.</li>
</ul>
<div class="highlight"><pre><span></span><code>📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Business
 ┃ ┣ 📂Cmf.Custom.Common                 # Common Project 
 ┃ ┃ ┣ 📜Cmf.Custom.{{TENANT}}.Common.csproj
 ┃ ┃ ┣ 📜{{TENANT}}Constants.cs
 ┃ ┃ ┗ 📜{{TENANT}}Utilities.cs
 ┃ ┣ 📂Cmf.Custom.Orchestration          # Orchestration Project
 ┃ ┃ ┣ 📂Abstractions
 ┃ ┃ ┃ ┗ 📜I{{TENANT}}Orchestration.cs 
 ┃ ┃ ┣ 📂InputObjects
 ┃ ┃ ┣ 📂OutputObjects
 ┃ ┃ ┣ 📜Cmf.Custom.{{TENANT}}.Orchestration.csproj
 ┃ ┃ ┣ 📜{{TENANT}}Orchestration.cs
 ┃ ┃ ┗ 📜OrchestrationStartupModule.cs
 ┃ ┣ 📂Cmf.Custom.Services               # REST Services Project
 ┃ ┃ ┣ 📜Cmf.Custom.{{TENANT}}.Services.csproj 
 ┃ ┃ ┗ 📜{{TENANT}}Controller.cs            
 ┃ ┣ 📜Business.sln
 ┃ ┗ 📜cmfpackage.json
 ┣ ...
</code></pre></div>
<h3 id="2-master-data">2. Master Data</h3>
<p>This package allows you to load or update:</p>
<ul>
<li>Exported Objects (e.g., UI pages, queries);</li>
<li>Process Rules (DEE actions executed during package installation);</li>
<li>Master Data (system and/or business entity data).</li>
</ul>
<h4 id="scaffolding_1">Scaffolding</h4>
<p>To generate the Master Data package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">data</span> <span class="p">-</span><span class="n">-businessPackage</span> <span class="p">.\</span><span class="n">Cmf</span><span class="p">.</span><span class="n">Custom</span><span class="p">.</span><span class="n">Business</span><span class="p">\</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The association of "Data" package with "Business" package, results in a change in the "Business" .NET solution file, to include the "Actions" .NET project. This improves the developer's experience, as he will be able to edit all .NET code in the same integrated environment.</p>
</div>
<h4 id="package-structure_1">Package Structure</h4>
<p>The Master Data package structure includes folders for:</p>
<ul>
<li><strong>DEEs</strong>: Stores logic for Process Rules (executed during installation) and DEE Actions (executed by DEE extension points on the MES backend logic).</li>
<li><strong>ExportedObjects</strong>: Contains objects (e.g., UI pages, queries) to be created or updated.</li>
<li><strong>MasterData</strong>: Holds system and/or business entity data for updates.</li>
</ul>
<div class="highlight"><pre><span></span><code>📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Data
 ┃ ┣ 📂DEEs             # Folder to store DEE Actions / Process Rules
 ┃ ┃ ┣ 📂ProcessRules   
 ┃ ┃ ┃ ┣ 📂1.0.0
 ┃ ┃ ┃ ┃ ┣ 📂After                
 ┃ ┃ ┃ ┃ ┃ ┗ 📜...      # Process rules for v1.0.0 release to be executed after
 ┃ ┃ ┃ ┃ ┗ 📂Before
 ┃ ┃ ┃ ┃ ┃ ┗ 📜...      # Process rules to run on v1.0.0 installation before host restart
 ┃ ┃ ┃ ┣ 📂EntityTypes
 ┃ ┃ ┃ ┃ ┗ 📜...        # Process rules to create/change MES entities/tables
 ┃ ┃ ┃ ┗ 📜readme.md
 ┃ ┃ ┣ 📜.cmfpackageignore
 ┃ ┃ ┣ 📜Cmf.Custom.{{TENANT}}.Actions.csproj
 ┃ ┃ ┗ 📜DeeDevBase.cs
 ┃ ┣ 📂ExportedObjects
 ┃ ┃ ┗ 📂1.0.0
 ┃ ┃ ┃ ┗ 📜...          # Exported objects to be created/updated on v1.0.0 installation
 ┃ ┣ 📂MasterData
 ┃ ┃ ┣ 📂1.0.0
 ┃ ┃ ┃ ┗ 📜...          # Exported objects to be created/updated on v1.0.0 installation
 ┃ ┃ ┗ 📜readme.md
 ┃ ┗ 📜cmfpackage.json
 ┣ ...
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inspect the package <code>cmfpackage.json</code> file contents to understand:</p>
<ul>
<li>The expected location for files used on a Master Data package;</li>
<li>How to extend the package build behavior.</li>
</ul>
</div>
<h3 id="3-ui">3. UI</h3>
<p>This layer consists of two sub-packages for extending the MES UI:</p>
<ul>
<li><strong>HTML</strong> - Allows customization of existing MES UI pages, controls, routes and
  creation of new controls, pages, or wizards.</li>
<li><strong>Help</strong> - Enables adding documentation entries to the MES Help system to
  explain your customizations.</li>
</ul>
<h4 id="scaffolding_2">Scaffolding</h4>
<p>The commands for generating UI packages depends on your MES version:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">MES v10 or above</label><label for="__tabbed_1_2">MES v9 or below</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c"># HTML</span>
<span class="n">cmf</span> <span class="n">new</span> <span class="n">html</span>

<span class="c"># HELP</span>
<span class="n">cmf</span> <span class="n">new</span> <span class="n">help</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>To scaffold HTML and Help, their Deployment Framework package needs to be specified. These files can be found in the MES ISO/disk. Assuming that ISO is mounted on <code>H:</code> drive and MES target version is 9.1.8, use the commands:</p>
<div class="highlight"><pre><span></span><code><span class="c">#HTML</span>
<span class="n">cmf</span> <span class="n">new</span> <span class="n">html</span> <span class="p">-</span><span class="n">-htmlPackage</span> <span class="n">H</span><span class="p">:\</span><span class="n">packages</span><span class="p">\</span><span class="n">Cmf</span><span class="p">.</span><span class="n">Presentation</span><span class="p">.</span><span class="n">HTML</span><span class="p">.</span><span class="n">9</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">8</span><span class="p">.</span><span class="n">zip</span>

<span class="c">#HELP</span>
<span class="n">cmf</span> <span class="n">new</span> <span class="n">help</span> <span class="p">-</span><span class="n">-documentationPackage</span> <span class="n">H</span><span class="p">:\</span><span class="n">packages</span><span class="p">\</span><span class="n">Cmf</span><span class="p">.</span><span class="n">Documentation</span><span class="p">.</span><span class="n">9</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">8</span><span class="p">.</span><span class="n">zip</span>
</code></pre></div>
</div>
</div>
</div>
<h4 id="package-structure_2">Package Structure</h4>
<p>The resulting file structure depends on the MES version. For details on its usage check CM Training Presentation Training Courses or the Developer Portal.</p>
<div class="admonition hint">
<p class="admonition-title">NPM Authentication</p>
<p>To authenticate with the NPM registry, you'll need to add your authentication information to your <code>.npmrc</code> file. This file is located at <code>%USERPROFILE%/.npmrc</code> on Windows and <code>~/.npmrc</code> on Linux.  The <a href="https://developer.criticalmanufacturing.com/">Critical Manufacturing Developer Portal</a> provides instructions on how to configure and use our public NuGet, NPM, and Docker repositories.</p>
</div>
<h3 id="4-iot">4. IoT</h3>
<p>This package facilitates developing custom IoT tasks and converters. It also includes a structure for managing IoT Workflows and MasterData under source control.</p>
<h4 id="scaffolding_3">Scaffolding</h4>
<p>The command for generating IoT packages depends on your MES version. For full details on how to generate an IoT package library check the <a href="../../../03-explore/guides/iot-scaffolding/">IoT Scaffolding Guide</a>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">MES v11 onwards</label><label for="__tabbed_2_2">MES v10</label><label for="__tabbed_2_3">up to MES v9</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To generate IoT package with support for Automation Task Library (ATL), use:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">iot</span>
</code></pre></div>
<p>In alternative, although deprecated, you can sill generate a Tasks Package Library, using the "MES v10" command.</p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">iot</span> <span class="p">-</span><span class="n">-htmlPackageLocation</span> <span class="n">Cmf</span><span class="p">.</span><span class="n">Custom</span><span class="p">.</span><span class="n">Baseline</span><span class="p">.</span><span class="n">HTML</span> <span class="p">-</span><span class="n">-isAngularPackage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">iot</span>
</code></pre></div>
</div>
</div>
</div>
<h4 id="package-structure_3">Package Structure</h4>
<p>The generated package includes sub-packages for:</p>
<ul>
<li><strong>IoT.Data</strong>: Stores IoT-specific MasterData.</li>
<li><strong>IoT.Packages</strong>: Stores custom tasks and converters implementation.</li>
</ul>
<div class="highlight"><pre><span></span><code>📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.IoT
 ┃ ┣ 📂Cmf.Custom.IoT.Data
 ┃ ┃ ┣ 📂AutomationWorkFlows
 ┃ ┃ ┃ ┗ 📜...                  # Exported Workflows files
 ┃ ┃ ┣ 📂MasterData
 ┃ ┃ ┃ ┗ 📂1.0.0
 ┃ ┃ ┃ ┃ ┗ 📜...                # IoT MasterData files
 ┃ ┃ ┗ 📜cmfpackage.json
 ┃ ┣ 📂Cmf.Custom.IoT.Packages
 ┃ ┃ ┣ 📂src
 ┃ ┃ ┃ ┗ 📜...                  # Location for Custom Tasks and Converters code
 ┃ ┃ ┣ 📜cmfpackage.json
 ┃ ┗ 📜cmfpackage.json
 ┣ 📂...
</code></pre></div>
<h3 id="5-database">5. Database</h3>
<p>This package allows creating scripts for execution on MES databases during installation.</p>
<h4 id="scaffolding_4">Scaffolding</h4>
<p>To create a Database package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">database</span>
</code></pre></div>
<h4 id="package-structure_4">Package Structure</h4>
<p>The created package includes sub-packages for scripts to be executed:</p>
<ul>
<li><strong>Pre</strong>: Before MES Host restart.</li>
<li><strong>Post</strong>: After MES Host restart.</li>
</ul>
<p>Each sub-package further contains folders for specific MES databases (ONLINE, ODS,
DWH) to store relevant SQL scripts.</p>
<div class="highlight"><pre><span></span><code>📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Database
 ┃ ┣ 📂Post
 ┃ ┃ ┣ 📂DWH
 ┃ ┃ ┣ 📂ODS
 ┃ ┃ ┣ 📂ONLINE
 ┃ ┃ ┗ 📜cmfpackage.json
 ┃ ┣ 📂Pre
 ┃ ┃ ┣ 📂DWH
 ┃ ┃ ┣ 📂ODS
 ┃ ┃ ┣ 📂ONLINE
 ┃ ┃ ┗ 📜cmfpackage.json
 ┣ ...
</code></pre></div>
<h3 id="6-tests">6. Tests</h3>
<p>The Tests package provides a framework for creating regression tests to ensure the quality and reliability of your MES customization project. It utilizes the .NET MsTests framework to define and execute test cases.</p>
<p>While the Tests package follows the same structure and creation process as other layer packages, it is not installable as part of the MES system. It is primarily used for internal development and testing purposes.</p>
<p>The package includes dedicated folders for different test types (e.g., Biz, GUI, IoT) and provides necessary configuration files for test execution.</p>
<h4 id="scaffolding_5">Scaffolding</h4>
<p>To create a Tests package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">test</span>
</code></pre></div>
<h4 id="package-structure_5">Package Structure</h4>
<p>The created package structure incorporates folders for various test categories:</p>
<ul>
<li><strong>Tests.Biz</strong>: Contains project files for Business logic (BE) tests.</li>
<li><strong>Tests.Biz.Common</strong>: Houses project files for commonly used functionalities across tests.</li>
<li><strong>Tests.GUI</strong>: Includes project files for Graphical User Interface (GUI) tests.</li>
<li><strong>Tests.GUI.PageObjects</strong>: Provides project files for defining objects to interact with GUI functionalities during testing.</li>
<li><strong>Tests.IoT</strong>: Encompasses project files for Internet of Things (IoT) specific tests.</li>
<li><strong>MasterData</strong>: This folder serves as a repository to store test master data. This data is used to set up the MES environment before actual test execution.</li>
</ul>
<div class="highlight"><pre><span></span><code> 📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Tests
 ┃ ┣ 📂Cmf.Custom.Tests.Biz
 ┃ ┃ ┣ 📜Cmf.Custom.Tests.Biz.csproj        #== BE Tests Project
 ┃ ┣ 📂Cmf.Custom.Tests.Biz.Common
 ┃ ┃ ┗ 📜Cmf.Custom.Tests.Biz.Common.csproj #== Common Functions Project
 ┃ ┣ 📂Cmf.Custom.Tests.GUI
 ┃ ┃ ┣ 📜Cmf.Custom.Tests.GUI.csproj        #== GUI Tests Project
 ┃ ┣ 📂Cmf.Custom.Tests.GUI.PageObjects
 ┃ ┃ ┗ 📜Cmf.Custom.Tests.GUI.PageObjects.csproj
 ┃ ┣ 📂Cmf.Custom.Tests.IoT
 ┃ ┃ ┣ 📂Framework
 ┃ ┃ ┣ 📂Tests
 ┃ ┃ ┣ 📜Cmf.Custom.Tests.IoT.csproj        #== IoT Tests Project
 ┃ ┣ 📂MasterData
 ┃ ┃ ┣ 📂Files                 #== Master Data for Test Environment
 ┃ ┃ ┗ 📜cmfpackage.json
 ┃ ┣ 📜app.config
 ┃ ┣ 📜cmfpackage.json
 ┃ ┣ 📜integration.runsettings
 ┃ ┣ 📜local.runsettings
 ┃ ┗ 📜Tests.sln
 ┣ ...
</code></pre></div>
<h3 id="7-reporting">7. Reporting</h3>
<p>This package layer allows the installation of additional <a href="https://learn.microsoft.com/en-us/sql/reporting-services">SQL ServerReporting Services (SSRS)</a> reports to the MES.</p>
<h4 id="scaffolding_6">Scaffolding</h4>
<p>To create a Reporting package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">reporting</span>
</code></pre></div>
<h4 id="package-structure_6">Package Structure</h4>
<p>The created package structure incorporates folders to store RDL files that will be installed on the MES SSRS folder.</p>
<div class="highlight"><pre><span></span><code> 📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Reporting
 ┃ ┣ 📂1.0.0
 ┃ ┃ ┗ 📂Custom           # SRSS folder to store the reporting services
 ┃ ┗ 📜cmfpackage.json
 ┣ ...
</code></pre></div>
<h3 id="8-grafana">8. Grafana</h3>
<p>This package layer allows you to create/update <a href="https://grafana.com/"><code>grafana</code></a> dashboards in the MES infrastructure (only applicable to environments running in containers with MES v10 or above).</p>
<h4 id="scaffolding_7">Scaffolding</h4>
<p>To create a Grafana package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">grafana</span>
</code></pre></div>
<h4 id="package-structure_7">Package Structure</h4>
<p>The created package structure incorporates folders to store <em>grafana</em> dashboards and data sources.</p>
<div class="highlight"><pre><span></span><code> 📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.Grafana
 ┃ ┣ 📂1.0.0
 ┃ ┃ ┣ 📂dashboards
 ┃ ┃ ┃ ┣ 📂{{TENANT}}
 ┃ ┃ ┃ ┗ 📜dashboards.yaml
 ┃ ┃ ┗ 📂datasources
 ┃ ┃ ┃ ┗ 📜datasources.yaml
 ┃ ┣ 📜cmfpackage.json
 ┃ ┗ 📜README.md
 ┣ ...
</code></pre></div>
<h3 id="9-securityportal">9. SecurityPortal</h3>
<p>This package layer allows the configuration of authentication strategies on the MES Security Portal component.</p>
<div class="admonition warning">
<p class="admonition-title">Prefer Usage of DevOps Center</p>
<p>Whenever possible security strategies should be defined through CM DevOps Center. Use this package, only if, your strategy cannot be defined there or the target environment is not running on containers.</p>
</div>
<h4 id="scaffolding_8">Scaffolding</h4>
<p>To create a SecurityPortal package use the command:</p>
<div class="highlight"><pre><span></span><code><span class="n">cmf</span> <span class="n">new</span> <span class="n">securityportal</span>
</code></pre></div>
<h4 id="package-structure_8">Package Structure</h4>
<p>This is a simple package. Use the <code>config.json</code> file to define the additional security settings/strategies for the CM MES Security Portal component.</p>
<div class="highlight"><pre><span></span><code> 📦Project
 ┣ ...
 ┣ 📂Cmf.Custom.SecurityPortal
 ┃ ┣ 📜cmfpackage.json
 ┃ ┗ 📜config.json
 ┣ ...
</code></pre></div>
<h2 id="deprecated-layer-packages">Deprecated layer packages</h2>
<h3 id="exported-objects">Exported Objects</h3>
<p>Even though the CLI does not provide scaffolding for an <code>ExportedObjects</code> package, as it generally is better to include these in Master Data packages, it is possible to create such a package and the tool will pack it as with any other package type.</p>
<p>As an example, an ExportedObjects package manifest looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;packageId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cmf.Custom.Baseline.ExportedObjects&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Baseline Exported Objects Package&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;packageType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ExportedObjects&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;isInstallable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;isUniqueInstall&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;contentToPack&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$(version)/*&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ExportedObjects&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>You would create a <code>cmfpackage.json</code> file inside the objects folder with this content. This will pack any XML file in a folder named after the current package version, so in this case <code>1.0.0</code> and place it in the package file in an <code>ExportedObjects</code> folder.</p>
<p>Afterwards, do not forget to add this new package as a dependency of your root/feature package, to make sure it gets installed when required.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2009-present Critical Manufacturing SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.select", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>